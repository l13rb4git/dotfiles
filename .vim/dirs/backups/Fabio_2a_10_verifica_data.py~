"""Lista_Fabio02_Condicionais	Fabio_2a_10_verifica_data

Leia uma data (dia, mês e ano), verifique e escreva se a data é ou não válida.

"""


def main():
    mostrar_info_programa()

    dia_data, mes_data, ano_data = get_data()

    data_eh_valida = verificar_data(dia_data, mes_data, ano_data)
    mostrar_validade(data_eh_valida)


def get_data():
    """Solicita do usuário uma string contendo "dia/mes/ano". """
    return map(int, input("Digite a data atual (Ex: 09/09/1999): ").split("/"))


def mostrar_info_programa():
    """Mostra ao usuário informações sobre o funcionamento do programa. """
    print("Informe uma data e será verificado se ela é válida ou não.")


def verificar_data(dia, mes, ano):
    return valores_positivos(dia, mes, ano) \
        and mes_valido(mes)            \
        and dia_valido(dia, mes, ano)


def valores_positivos(dia, mes, ano):
    return dia > 0 and mes > 0 and ano > 0


def mes_valido(mes):
    return mes <= 12


def dia_valido(dia, mes, ano):
    if eh_primeiro_semestre(mes):
        return primeiro_semestre_valido(dia, mes, ano)
    return segundo_semestre_valido(dia, mes, ano)


def eh_primeiro_semestre(mes):
    return mes <= 7     # Incluindo julho porque ele também entre na regra.


def primeiro_semestre_valido(dia, mes, ano):
    if mes_par(mes):
        if mes == 2:
            if ano_bissexto(ano):
                return dia <= 29
            return dia <= 28
        return dia <= 30
    return dia <= 31


def mes_par(mes):
    return mes % 2 == 0


def ano_bissexto(ano):
    return (ano % 100 != 0 and ano % 4 == 0) and ano % 400 != 0


def segundo_semestre_valido(dia, mes, ano):
    if mes_par(mes):
        return dia <= 31
    return dia <= 30


def mostrar_validade(data_eh_valida):
    resultado = "inválida"

    if data_eh_valida == True:      # if data_eh_valida:
        resultado = "válida"

    print("Data {}.".format(resultado))


if __name__ == '__main__':
    main()
