#include <stdio.h>

void info_programma(){
    printf("Informe uma data, será verificado se ela é válida ou não.\n");
}

struct Tuple {
    int dia;
    int mes;
    int ano;
};

struct Tuple  get_data(char *tipo){
    static int data[3];

    printf("Digite a data %s.\n", tipo);

    printf("digite o dia: ");
    scanf("%i", &data[0]);

    printf("digite o mês: ");
    scanf("%i", &data[1]);

    printf("digite o ano: ");
    scanf("%i", &data[2]);

    printf("\n");

    struct Tuple tuple_data = {data[0], data[1], data[2]};

    return tuple_data;
}

void mostrar_validade(int eh_valida){
    if (eh_valida) {
        printf("Data válida.\n");
    } else {
        printf("Data inválida.\n");
    }

}

int valores_positivos(struct Tuple data){
    if (data.dia > 0 && data.mes > 0 && data.ano > 0) {
        return 1;
    }
    return 0;
}

int dia_valido(struct Tuple data){
    if (data.mes <= 7){
        if (data.mes % 2 == 0) {
            if (data.mes == 2){
                if ((data.ano % 100 != 0 && data.ano % 4 == 0) && data.ano % 400 != 0){
                    return data.dia <= 29;
                } return data.dia <= 29;

            } return data.dia <= 30;

        } return data.dia <= 31;

    } else {
        if (data.mes % 2 == 0) {
            return data.dia <= 31;

        } return data.dia <= 30;
    } 

        
}

int verificar_data(struct Tuple data){
    if (valores_positivos(data) && data.mes <= 12 && dia_valido(data))
            return 1;

    return 0;
}

int main(){
    info_programma();
    struct Tuple data = get_data("que deseja testar");

    int eh_valida = verificar_data(data);

    mostrar_validade(eh_valida);

    return 0;
}
