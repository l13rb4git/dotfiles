#include <stdio.h>


void info_programa()
{
    printf("Informe os codígos dos votos para saber o resultado da eleição.\n");
}


void mostra_opcoes_voto()
{
    printf("1 - Joarez Villasboa \n2 - Jove Fichalimpa \n3 - Muie Schöner "
            "\n9 - Nulo \n0 - Branco\n");
}


typedef struct
{
    int cand_1;
    int cand_2;
    int cand_3;
    int nulos;
    int brancos;
} tipos_votos;


char* candidato_vencedor(tipos_votos resultado_votos)
{
    if (resultado_votos.cand_1 > resultado_votos.cand_2 
        && resultado_votos.cand_1 > resultado_votos.cand_3)
    {
        return "Joarez Villasboa";
    }
    if (resultado_votos.cand_2 > resultado_votos.cand_1 
        && resultado_votos.cand_2 > resultado_votos.cand_3)
    {
        return "Jove Fichalimpa";
    }
    if (resultado_votos.cand_3 > resultado_votos.cand_1 
        && resultado_votos.cand_3 > resultado_votos.cand_2)
    {
        return "Muie Schöner";
    }
    else
    {
        return "Haverá um segundo turno";
    }
     
}


void mostrar_resultado(tipos_votos resultado_votos)
{
    char *vencedor;
    vencedor = candidato_vencedor(resultado_votos);

    printf("======RESULTADO ELEIÇÃO=====\n");
    printf("Joarez Villasboa: %d\nJove Fichalimpa: %d \nMuie Schöner: %d \n", 
            resultado_votos.cand_1, resultado_votos.cand_2, resultado_votos.cand_3);
    printf("Nulos: %d \nBrancos: %d\n", resultado_votos.nulos, resultado_votos.brancos);
    printf("RESULTADO FINAL: %s\n", vencedor);
}


void eleicao(int qtd_eleitores)
{
    static tipos_votos votos;
    int codigo_voto;
    static int i = 1;

    if (i == 1) mostra_opcoes_voto();

    if (i <= qtd_eleitores)
    {
        printf("Digite o codígo voto do %dº eleitor: ", i);
        scanf("%d", &codigo_voto);

        switch (codigo_voto) {
            case 0:
                votos.brancos++;
                break;
            case 9:
                votos.nulos++;
                break;
            case 1:
                votos.cand_1++;
                break;
            case 2:
                votos.cand_2++;
                break;
            case 3:
                votos.cand_3++;
                break;
            default:
                printf("ERRO: Codígo Inválido!\n");
        }

        i++;
        eleicao(qtd_eleitores);
    }
    else {mostrar_resultado(votos);}
}


int main()
{
    info_programa();

    printf("Digite quantos eleitores votaram: ");
    int qtd_eleitores;
    scanf("%d", &qtd_eleitores);

    eleicao(qtd_eleitores);

    return 0;
}
