import curses
from curses import panel
# from time import sleep


class Window(object):
    def __init__(self, height, widht, begin_y, begin_x):
        stdscr = curses.initscr()
        max_y, max_x = stdscr.getmaxyx()


class Banner():
    def __init__(self, stdscr):
        max_y, max_x = stdscr.getmaxyx()
        lista_banner = self.get_banner()

        lines = len(lista_banner)
        coluns = len(lista_banner[1])
        self.wbanner = curses.newwin(lines, coluns, 0, 0)

        for row in lista_banner:
            self.wbanner.addstr(row)

        self.pbanner = panel.new_panel(self.wbanner)
        nw_x = max_x // 2 - coluns // 2
        nw_y = max_y - (max_y - 1)
        self.pbanner.move(nw_y, nw_x)

    def get_banner(self):
        lista_banner = []
        with open('banner.txt', 'r') as arq_banner:
            for line in arq_banner:
                lista_banner.append(line[: - 1])

        return lista_banner

    def show(self):
        self.pbanner.top()
        # self.wbanner.getch()
        curses.doupdate()
        panel.update_panels()


class BottomMensage():
    def __init__(self, stdscr):
        max_y, max_x = stdscr.getmaxyx()

        mensagem = "Pressione [Esc] para encerrar o programa."

        lines = 3
        coluns = max_x - len(mensagem)
        begin_y = max_y // 2
        begin_x = 1
        self.wbttmsg = curses.newwin(lines, coluns, begin_y, begin_x)
        self.wbttmsg.box()

        self.pbttmsg = panel.new_panel(self.wbttmsg)
        self.wbttmsg.addstr(1, 1, mensagem)

    def show(self):
        self.pbttmsg.top()
        # self.wbttmsg.getch()
        curses.doupdate()
        panel.update_panels()


def main():
    stdscr = curses.initscr()
    stdscr.keypad(1)
    banner = Banner(stdscr)
    bottom = BottomMensage(stdscr)
    curses.noecho()

    bottom.show()
    banner.show()

    while 1:
        # key = banner.wbanner.getch()
        key = stdscr.getch()

        if key == 27:
            break

    curses.endwin()


if __name__ == '__main__':
    main()
    # curses.wrapper(main)
